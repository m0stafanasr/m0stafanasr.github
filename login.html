<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <title>Login FOrm</title>
</head>
<body>
    
    <div class="container">
        <h2>Login</h2>
        <form action="./Home.html" onsubmit="LoginForm(event)">
            <input type="text" name="Email" id="Email" placeholder="username">
            <input type="password" name="password" id="password" placeholder="password">
           <div class="btns">
            <button type="submit">Login</button>
            <a href="signup.html"><button type="button" id="sign-up">Sign Up</button></a>
           </div>
        </form>
    </div>
<script type="module">
        window.LoginForm = LoginForm;
function LoginForm(ev){
    ev.preventDefault();
    var email = document.getElementById("Email").value;
    var password = document.getElementById("password").value;
    try{
        Login(email,password)
    }catch(e){
        alert(e);
    }
}
// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getAuth ,signInWithEmailAndPassword ,onAuthStateChanged} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyBmMcEKWrE0tbweuAHin4yl2PsvwJNgvbk",
    authDomain: "students-79239.firebaseapp.com",
    projectId: "students-79239",
    storageBucket: "students-79239.appspot.com",
    messagingSenderId: "400928239359",
    appId: "1:400928239359:web:0e08087dc9ed2b1ab066ca",
    measurementId: "G-1N79C5WTJ5"
  };

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth=getAuth();

function Login(email,password){
    signInWithEmailAndPassword (auth,email,password).then((userCredition)=>{
        console.log(userCredition.user.uid);
    }).catch((error)=>{
        console.log(error.message);
        // alert("user not found")
    })
}

onAuthStateChanged(auth,(user)=>{
    if(user)
    location.assign("index.html");
})

</script>

</body>
</html>